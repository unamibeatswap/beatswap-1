{"version":3,"file":"index.cjs","sources":["../src/visual-editing/index.tsx"],"sourcesContent":["import type {VisualEditingProps} from 'next-sanity/visual-editing/client-component'\nimport VisualEditingComponent from 'next-sanity/visual-editing/client-component'\n\n/**\n * @public\n */\nexport function VisualEditing(props: VisualEditingProps): React.ReactElement {\n  let autoBasePath: string | undefined\n  if (typeof props.basePath !== 'string') {\n    try {\n      autoBasePath = process.env['__NEXT_ROUTER_BASEPATH']\n      if (autoBasePath) {\n        // eslint-disable-next-line no-console\n        console.log(\n          `Detected next basePath as ${JSON.stringify(autoBasePath)} by reading \"process.env.__NEXT_ROUTER_BASEPATH\". If this is incorrect then you can set it manually with the basePath prop on the <VisualEditing /> component.`,\n        )\n      }\n    } catch (err) {\n      console.error('Failed detecting basePath', err)\n    }\n  }\n  let autoTrailingSlash: boolean | undefined\n  if (typeof props.trailingSlash !== 'boolean') {\n    try {\n      autoTrailingSlash = Boolean(process.env['__NEXT_TRAILING_SLASH'])\n      if (autoTrailingSlash) {\n        // eslint-disable-next-line no-console\n        console.log(\n          `Detected next trailingSlash as ${JSON.stringify(autoTrailingSlash)} by reading \"process.env.__NEXT_TRAILING_SLASH\". If this is incorrect then you can set it manually with the trailingSlash prop on the <VisualEditing /> component.`,\n        )\n      }\n    } catch (err) {\n      console.error('Failed detecting trailingSlash', err)\n    }\n  }\n  return (\n    <VisualEditingComponent\n      {...props}\n      basePath={props.basePath ?? autoBasePath}\n      trailingSlash={props.trailingSlash ?? autoTrailingSlash}\n    />\n  )\n}\n\nexport type {VisualEditingProps} from 'next-sanity/visual-editing/client-component'\n"],"names":["jsx","VisualEditingComponent"],"mappings":";;;;;;;AAMO,SAAS,cAAc,OAA+C;AACvE,MAAA;AACA,MAAA,OAAO,MAAM,YAAa;AACxB,QAAA;AACF,qBAAe,QAAQ,IAAI,wBACvB,gBAEF,QAAQ;AAAA,QACN,6BAA6B,KAAK,UAAU,YAAY,CAAC;AAAA,MAC3D;AAAA,aAEK,KAAK;AACJ,cAAA,MAAM,6BAA6B,GAAG;AAAA,IAAA;AAG9C,MAAA;AACA,MAAA,OAAO,MAAM,iBAAkB;AAC7B,QAAA;AACF,0BAAoB,CAAQ,CAAA,QAAQ,IAAI,uBACpC,qBAEF,QAAQ;AAAA,QACN,kCAAkC,KAAK,UAAU,iBAAiB,CAAC;AAAA,MACrE;AAAA,aAEK,KAAK;AACJ,cAAA,MAAM,kCAAkC,GAAG;AAAA,IAAA;AAIrD,SAAAA,2BAAA;AAAA,IAACC,gCAAA;AAAA,IAAA;AAAA,MACE,GAAG;AAAA,MACJ,UAAU,MAAM,YAAY;AAAA,MAC5B,eAAe,MAAM,iBAAiB;AAAA,IAAA;AAAA,EACxC;AAEJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}